<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' data: https://fonts.gstatic.com; connect-src *; img-src 'self' data: https:; frame-src *;">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuru Browser</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="titlebar.css">
  <link rel="stylesheet" href="tabs.css">
  <link rel="stylesheet" href="tabs-combined.css">
  <link rel="stylesheet" href="loadingstrip.css">
  <link rel="stylesheet" href="notifications.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" crossorigin="anonymous">
</head>
<body>
  <div class="titlebar"></div>
  
  <!-- Combined Tab Viewport (Arc Browser Style) -->
  <div class="tabs-trigger-area"></div>
  <div class="tabs-viewport">
    <div class="tabs-header">
      <h3>Nuru Browser</h3>
      <div class="browser-actions">
        <button class="browser-action-btn" id="update-check-btn" title="Check for Updates">
          <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"/></svg>
        </button>
        <button class="browser-action-btn" id="diagnostics-btn" title="Open Diagnostics">
          <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>
        </button>
        <button class="browser-action-btn" id="dev-mode-toggle" title="Toggle Development Mode">
          <svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>
        </button>
      </div>
    </div>
    
    <!-- URL Search Section -->
    <div class="url-search-section">
      <div class="url-search-container">
        <div class="url-security-indicator" id="url-security-indicator">
          <i class="fas fa-lock"></i>
        </div>
        <div class="url-search-icon">
          <i class="fas fa-search"></i>
        </div>
        <input type="text" class="url-search-input" id="url-search-input" placeholder="Search or enter web address" autocomplete="off" spellcheck="false">

        <div class="url-search-engine" id="search-engine-button">
          <img src="https://www.google.com/favicon.ico" class="search-engine-favicon" id="search-engine-favicon" alt="Google">
        </div>
      </div>
      <div class="url-suggestions" id="url-suggestions">
        <!-- Suggestions will be dynamically added here -->
      </div>
    </div>
    
    <div class="search-engine-selector" id="search-engine-selector">
      <div class="search-engine-item" data-engine="google" data-url="https://www.google.com/search?q=" data-favicon="https://www.google.com/favicon.ico">
        <div class="search-engine-icon">
          <img src="https://www.google.com/favicon.ico" alt="Google" class="search-engine-favicon">
        </div>
        <div class="search-engine-name">Google</div>
        <div class="search-engine-selected"><i class="fas fa-check"></i></div>
      </div>
      <div class="search-engine-item" data-engine="bing" data-url="https://www.bing.com/search?q=" data-favicon="https://www.bing.com/favicon.ico">
        <div class="search-engine-icon">
          <img src="https://www.bing.com/favicon.ico" alt="Bing" class="search-engine-favicon">
        </div>
        <div class="search-engine-name">Bing</div>
        <div class="search-engine-selected"><i class="fas fa-check"></i></div>
      </div>
      <div class="search-engine-item" data-engine="duckduckgo" data-url="https://duckduckgo.com/?q=" data-favicon="https://duckduckgo.com/favicon.ico">
        <div class="search-engine-icon">
          <img src="https://duckduckgo.com/favicon.ico" alt="DuckDuckGo" class="search-engine-favicon">
        </div>
        <div class="search-engine-name">DuckDuckGo</div>
        <div class="search-engine-selected"><i class="fas fa-check"></i></div>
      </div>
      <div class="search-engine-item" data-engine="yahoo" data-url="https://search.yahoo.com/search?p=" data-favicon="https://www.yahoo.com/favicon.ico">
        <div class="search-engine-icon">
          <img src="https://www.yahoo.com/favicon.ico" alt="Yahoo" class="search-engine-favicon">
        </div>
        <div class="search-engine-name">Yahoo</div>
        <div class="search-engine-selected"><i class="fas fa-check"></i></div>
      </div>
    </div>
    
    <!-- Divider -->
    <div class="tabs-divider"></div>
    
    <!-- Tabs List -->
    <div class="tabs-list-header">Open Tabs</div>
    <div class="tabs-list" id="tabs-list">
      <!-- Tab items will be dynamically added here -->
    </div>
    
    <div class="tabs-divider"></div>
    
    <!-- Version and Credits -->
    <div class="version-footer">
      <div class="version-info">App Version: 1.0.0</div>
      <div class="credits">Made with <span class="heart">â™¥</span> by <a href="https://github.com/ackimcu/Nuru-Browser" class="author-link" target="_blank">Ackim</a></div>
      <div class="copyright">Nuru Browser 2025</div>
    </div>
  </div>
  
  <!-- Models Viewport removed -->
  
  <div id="app">
    <div id="loading-strip"></div>
    <div class="titlebar-padding"></div>
    <div id="webview-container">
      <div id="webviews-container">
        <!-- All webviews will be dynamically added here -->
        <webview id="webview-0" src="https://www.google.com/" class="active" allowpopups partition="persist:browsing" webpreferences="allowRunningInsecureContent=yes, javascript=yes" useragent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"></webview>
      </div>
    </div>
    
    <div id="error-overlay" class="hidden">
      <div class="error-content">
        <h3 id="error-title"></h3>
        <p id="error-message"></p>
        <div id="error-actions">
          <span id="error-dismiss">Dismiss</span>
        </div>
      </div>
    </div>
    
    <div id="nav-buttons">
      <button id="back-button" class="nav-button" title="Back">
        <svg width="14" height="14" viewBox="0 0 24 24"><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
      </button>
      <button id="forward-button" class="nav-button" title="Forward">
        <svg width="14" height="14" viewBox="0 0 24 24"><path fill="currentColor" d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/></svg>
      </button>
      <button id="close-button" class="nav-button" title="Close Application">
        <svg width="14" height="14" viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
      <button id="tabs-button" class="nav-button" title="Reload Page">
        <svg width="14" height="14" viewBox="0 0 24 24"><path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 12h7V5l-2.35 1.35z"/></svg>
      </button>
    </div>
  </div>
  
  <script src="renderer.js"></script>
  <script src="dev-mode.js"></script>
</body>
</html>
